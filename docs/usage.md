# *How-to run this code:*

### *Note*: Keeping up-to-date with Repo

- Use git pull to pull the updates and merge them into your local code.

```
git pull origin main
```

---

### *Note*: Utilizing Docling through Spacy for file conversion:

- We've set up the repo to read text in through pdfs, word documents, html, etc. The conversion is being done with Spacy's integration with Docling. The name of this integration is spaCyLayout, or layout as the function is called.
- Currently, this is reading in documents in the `sample_data` folder. For easy testing of your own documents, feel free to add your file into that folder/directory and reference the path in the code.

---

## 4. Running Task 1: *Keyword/Key Phrase Extraction*

- The first thing you'll want to ensure is that you have made the text you want processed accesibile by the keyword extraction. There are two ways to do this:
  - 1. When prompted by the notebook, if you want manually enter your text, you can type ``text`` in the prompt window. You will then be prompted a second time to enter you text manually.
  - 2. If you want to read in a text file, type in ``file``, which will have it be read from the related folder it's been uploaded from.

    - *For now, this can be run on the French news data to recreate results.*
    - A note on option #2: We will want to have an open dialouge about what will be easiest for the team regarding making their files readable. We can have a back-and-forth dialouge about this and adjust.
- Once the data is read, the keyword/key-phrase extractors should be able to do the rest. After it's decided which one yields the best results, we can work on writing that to a save file.

---

## 5. Running Task 2: *Topic Modeling*

#### Via ipynb notebook:

- Firstly, before running the notebook to extract Topics from the text, sign up for Neo4j.
  - Only required if using a Neo4j Knowledge Graph is desired.
- Run the Jupyter notebook, **topic_modeling.ipynb**, after having entered the desired data to run Topic and extraction on.
  - Similar to the `file` option above in Task 1, this will look very similar. We will want to adjust this for what works best.
  - *For now, this can be run on the French news data to recreate results.*
- The notebook should on it's own generate 3 different visualizations, as well as document info in a .csv format.
  - For saving the document info, we can work through how to best write these results out to a file.
  - For the visualizations, we are able to save these by clicking on the `Download plot as png` button in the top right of the image. *Screenshot shown in front page README*
- For running the Neo4j script to push the data to a sample Neo4j Aura Database, the username, password, and ultimately the database itself will be needed to be entered.
- In the notebook, around cell 15, this can be seen as:
  - `URI` = *Connection generated by NEO4j when creating the database*
  - `auth` = (Username, Password generated by Neo4j) - *Connection generated by NEO4j when creating the database*

#### Via CLI script *(preferred)*:

- Firstly, before running the notebook to extract Topics from the text, sign up for Neo4j.

  - Only required if using a Neo4j Knowledge Graph is desired.
- Navigate to the folder titled `sh_scripts` - there you will find bash scripts for running the project files easier.
- *Note* In here is where you will be able to edit the inputs in the easiest fashion. Looking at the example below, if you want to change the input file/directory, all you need to do is adjust the path listed in the `--input` arg. This should allow for more modular use of the project, as you won't need to open any other files, other than storing you data to be run, in order to run this section of the project, **from the root directory**

  ```
  # bash script from topics.sh

  python3 ./src/__main__.py topic --input=./sample_data/37-septembre-2008.pdf/ --output=./src/topic_modeling/topic_results/ --name="test1" --uri="" --auth_username="" --auth_password=""
  ```
- *NOTE* You also can follow the args available and run this directly from the command line instead, for example:

  ```
  python3 ./src/__main__.py topic --input="ENTER YOUR PATH" --output="ENTER RESULTS PATH --name="ENTER RESULT FILE NAME" --uri="ENTER Neo4j DB" --auth_username="ENTER Neo4j USERNAME" --auth_password="ENTER Neo4j PASSWORD"
  ```

